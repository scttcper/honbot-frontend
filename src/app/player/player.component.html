<div class="row">
  <div class="col">
    <div class="mb-1">
      <ng2-adsense></ng2-adsense>
    </div>
  </div>
</div>

<div class="row statsbar">
  <div class="col">
    <div class="bg-lighter">
      <div class="row">
        <div class="col-md-6">
          <img class="m-2 float-left" [src]="avatar" alt="Avatar" height="70" width="70">
          <h4 class="mt-2">{{nickname}}</h4>
          <div class="text-muted">Overview</div>
        </div>
        <div class="col-md-6">
          <div class="float-right mt-1">
            <div class="d-inline-block m-3">
              <h6>{{ lastMatch || 'Loading...' }}</h6>
              <div class="text-muted">Last Match</div>
            </div>
            <div class="d-inline-block m-3">
              <h6>
                <span class="text-success">{{ wins | number }}</span> -
                <span class="text-danger">{{ losses | number }}</span>
              </h6>
              <div class="text-muted">Record</div>
            </div>
            <div class="d-inline-block m-3">
              <h6>{{ winPercent }}%</h6>
              <div class="text-muted">Win Rate</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col">
    <ul class="nav bg-darker">
      <li class="nav-item">
        <a class="nav-link"
          [routerLink]="['/player/', nickname]"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }">
          Overview
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['matches']" routerLinkActive="active">Matches</a>
      </li>
    </ul>
  </div>
</div>

<div class="row">
  <div class="col-lg-8">
    <legend class="mt-2">Latest Matches</legend>
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th>Hero</th>
          <th>Result</th>
          <th>Type</th>
          <th>Duration</th>
          <th>KDA</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="loadingMatches">
          <td>
            Loading...
          </td>
        </tr>
        <tr *ngFor="let m of latestMatches">
          <td>
            <img width="40" height="40" src="https://www.heroesofnewerth.com/images/heroes/{{m.hero_id}}/icon_128.jpg">
          </td>
          <td>
            <div>
              <a [routerLink]="['/match', m.match_id]">
                <strong *ngIf="m.win" class="text-success">Won Match</strong>
                <strong *ngIf="!m.win" class="text-danger">Lost Match</strong>
              </a>
            </div>
            {{ m.fromNow }}
          </td>
          <td>
            <div>{{ m.mode }}</div>
            <!-- <span *ngIf="m.matchSkill | async">
              {{ (m.matchSkill? | async).oddsTeam1Win }}
            </span> -->
          </td>
          <td>
            {{ m.duration }}
            <bar [value]="m.length" [max]="maxLength"></bar>
          </td>
          <td>{{ m.kills }}/{{ m.deaths }}/{{ m.assists }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row">
  <div class="col">
    <div class="mb-1">
      <ng2-adsense></ng2-adsense>
    </div>
  </div>
</div>

<router-outlet></router-outlet>
